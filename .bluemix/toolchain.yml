version: '2'

template:
  name: "DYML: $switch/$case construct"
  description: "DYML: $switch/$case construct"
  required:
    - build
    - frontend-repo
    - sample-repo
  info:
    git url: >-
      [https://github.com/tonymcguckin/dynamicyml](https://github.com/tonymcguckin/dynamicyml)
    git branch: >-
      [master](https://github.com/tonymcguckin/dynamicyml/tree/master)

toolchain:
  name: 'DYML: $switch/$case construct'

services:

  # dynamic yml 'service' entry...
  frontend-repo:
    
    $switch:
    
      - $expr: $env.case
 
      - $case: 'hostedgit'
        service_id: 'hostedgit'
        parameters:
          test1: $env.test1
          test2: $env.test2 || test2
          test3: $env.test3 || {{test3}}
          test4: $env.test4 || 'test' + '4'
          test5: $env.test5 || $env.test5 + ' test5'
          test6: "$env.test6 ? 'test6_true' : 'test6_false'"
          

form:
  pipeline:
    parameters: {}
    schema: {}
