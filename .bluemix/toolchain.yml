---
version: '2'

template:
  name: 'DYML: Scripting'
  description: 'DYML: Scripting'

toolchain:
  name: 'DYML: Scripting'

services:

  frontend-repo:
    
    $switch:
      #- $expr: $env.expr
      - $expr: "{{expr}}"
      #- $expr: b
      #- $expr: undefined
      
      - $default: b
      
      - $case: undefined
        service_id: undefined
        parameters: {}
      
      - $case: a
        service_id: hostedgit
        parameters: {}

      - $case: b
        service_id: hostedgit
        parameters:
          test1: $env.test
          test2: $$env.test
          test3: $env.test || test3
          test4: $$env.test || test4
          test5: "$env.test || {{branch}}"
          test6: "$$env.test || {{branch}}"
          test7: "$$env.test == 'foo' ? \"hello world\" : \"joe shmoe\""
          test8: "$env.test || 'test' + '5'"
          test9: "$env.test || $env.expr || $env.tenant"
          test10: "'{{test3}}'|| $env.app_repo"

form:
  pipeline:
    parameters: {}
    schema: {}
